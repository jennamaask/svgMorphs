const morphing = anime({
    targets: ".path",
    d: [
        { value: "M-1.13686838e-13,0 L1257,0 L1257,813.191148 C1176.39936,465.431865 1084.64656,291.552224 981.741603,291.552224 C827.384166,291.552224 754.432955,664.983234 612.721513,664.983234 C471.010071,664.983234 414.008384,406.595574 256.684648,406.595574 C151.802157,406.595574 66.2406078,542.127432 -1.13686838e-13,813.191148 L-1.13686838e-13,0 Z" },
        { value: "M-1.13686838e-13,0 L1257,0 L1257,4.78117097 C1170.65995,4.97691883 1076.03745,5.07479276 973.132491,5.07479276 C818.775054,5.07479276 716.667946,5.07479276 574.956504,5.07479276 C433.245062,5.07479276 428.282433,5.07479276 270.958696,5.07479276 C166.076205,5.07479276 75.7566398,5.07479276 -1.13686838e-13,5.07479276 L-1.13686838e-13,0 Z" }
    ],
    easing: "easeInOutQuint",
    duration: 1500,
    loop: false,
    autoplay: false
});
// anime({
//     targets: '.morph',
//     d: [
//     { value: "M360,651 C457.558315,616.533864 475.749956,603.316239 587.18501,558.404941 C698.620064,513.493642 734.051723,434.42504 685,326 C635.948277,217.57496 680.670625,121.332595 588.109052,94.5020599 C495.547479,67.6715253 448.884387,1 360,1 C270.899097,1 237.766622,71.8007122 131.462561,94.9249926 C25.1584995,118.049273 -44.4777856,250.691023 35,326 C114.477786,401.308977 97.5460043,461.723516 134.625424,560.161357 C171.704843,658.599198 262.441685,685.466136 360,651 Z" },
//     { value: "M366,657 C471.036681,723.016413 563.375997,664.110171 593.18501,564.404941 C622.994022,464.69971 740.051723,440.42504 691,332 C641.948277,223.57496 698.189133,100.50206 594.109052,100.50206 C490.028971,100.50206 490.028971,-28.5990425 366,7 C241.971029,42.5990425 246.587573,87.2334652 137.462561,100.924993 C28.3375485,114.61652 -51.1118426,234.484751 41,332 C133.111843,429.515249 103.546004,467.723516 140.625424,566.161357 C177.704843,664.599198 260.963319,590.983587 366,657 Z" },
//     { value: "M340,679 C459.789945,756.02799 553.101292,702.575364 567.18501,586.404941 C581.268727,470.234517 726.977384,472.68823 665,354 C603.022616,235.31177 593.47509,235.506628 568.109052,122.50206 C542.743013,9.49749139 440.315874,-32.7586331 340,29 C239.684126,90.7586331 124.871755,-17.7583739 111.462561,122.924993 C98.0533672,263.608359 41.1713203,178.962524 15,354 C-11.1713203,529.037476 -10.1797098,548.974823 114.625424,588.161357 C239.430557,627.34789 220.210055,601.97201 340,679 Z" }
//     ],
//     direction: 'alternate',
//     easing: 'linear',
//     duration: 10000,
//     loop: true
// });

{
    class MorphingBG {
        constructor(el) {
            this.DOM = {};
            this.DOM.el = el;
            this.DOM.paths = Array.from(this.DOM.el.querySelectorAll('path'));
            this.animate();
        }
        animate() {
            this.DOM.paths.forEach((path) => {
                setTimeout(() => {
                    anime({
                        targets: path,
                        duration: anime.random(3000, 5000),
                        easing: [0.5, 0, 0.5, 1],
                        d: path.getAttribute('pathdata:id'),
                        loop: true,
                        direction: 'alternate'
                    });
                }, anime.random(0, 1000));
            });
        }
    };
    new MorphingBG(document.querySelector('svg.scene'));
};


    $(function(){
        $("button").on("click", () => {
            morphing.restart();
            $("button").addClass("animated bounceOutUp slow");
            $(".about").addClass("animated bounceInUp delay-1s").css("display", "flex");
            setTimeout(() => {
                $(".shape").hide();
            }, 1500);
        })

        $(".hoverMorph").hover(
            function(){
                console.log("hovering");
                anime({
                    targets: '.hmorph',
                    d: [
                        { value: "M392,301 C474.842712,301 542,233.842712 542,151 C542,68.1572875 474.842712,1 392,1 C309.157288,1 242,68.1572875 242,151 C242,170.318803 245.652119,188.784608 252.303607,205.744663 C254.34588,210.952081 170.684782,213.421308 1.3203125,213.152344 L1.3203125,338.460938 L323.360492,343.5 C321.413904,303.102664 321.413904,283.405771 323.360492,284.409321 C343.928649,295.013093 367.265166,301 392,301 Z" }
                    ],
                    // direction: 'alternate',
                    easing: 'linear',
                    duration: 3000,
                })

            }, function() {
                anime({
                    targets: '.hmorph',
                    d: [
                        { value: "M151,301 C233.842712,301 301,233.842712 301,151 C301,68.1572875 233.842712,1 151,1 C68.1572875,1 1,68.1572875 1,151 C1,170.318803 4.65211926,188.784608 11.3036067,205.744663 C14.3670171,213.55579 18.0666405,221.047523 22.3387084,228.156095 C28.8124521,238.928179 36.6007185,248.820396 45.4816067,257.610846 C53.9767566,266.019485 63.4716744,273.419989 73.7721361,279.618133 C76.5765175,281.305626 79.4406093,282.903995 82.3604919,284.409321 C102.928649,295.013093 126.265166,301 151,301 Z" }
                    ],
                    // direction: 'alternate',
                    easing: 'linear',
                    duration: 1000,
                })

            }
        )
    })